(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{gv9p:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DisplayAgentsListComponent}));var rxjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("bwdy"),rxjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("8lHc"),moment__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("wgY5"),moment__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_2__),shared_functions__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("j2Hr"),shared_models_helpers_Alert__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("LgNh"),shared_models__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("k5pS"),shared_services__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("IXvK"),packages_display_src_shared_models___WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("KUDs"),packages_display_src_shared_services___WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("lSgf"),DisplayAgentsListComponent=function(){function DisplayAgentsListComponent(e,t,n,l,i){this.displayAgentsIndicatorsService=e,this.alertService=t,this.envService=n,this.modalService=l,this.userSelectionService=i,this.subscription=new rxjs__WEBPACK_IMPORTED_MODULE_0__.a,this.alertMessage=new shared_models_helpers_Alert__WEBPACK_IMPORTED_MODULE_4__.a,this.show_columns=!1,this.show=!1,this.selected=[],this.historic=!1,this.graph=!1,this.show_graph_or_table_button=!1,this.env=n,this.model=new packages_display_src_shared_models___WEBPACK_IMPORTED_MODULE_7__.a,this.local_store="assignation",this.selectorVisibleFields=new shared_models__WEBPACK_IMPORTED_MODULE_5__.b("visible"),this.selectorVisibleFields.assignation=!1,this.selectorVisibleFields.auxiliar=!1,this.currentDate=moment__WEBPACK_IMPORTED_MODULE_2__(new Date).format("YYYY-MM-DD"),this.rows=new packages_display_src_shared_models___WEBPACK_IMPORTED_MODULE_7__.b,this.rows_original=new packages_display_src_shared_models___WEBPACK_IMPORTED_MODULE_7__.b}return DisplayAgentsListComponent.prototype.ngOnInit=function(){this.userSelection=new shared_models__WEBPACK_IMPORTED_MODULE_5__.b("userSelection"),this.getReportList(this.userSelection),this.filterFieldList=this.model.fieldList(),this.numberOfRowsInTable={id:10,value:10},this.exportName="reporte-conexi\xf3n",this.initialSelectedFilterField={field_name:"start_date",name:"fecha_inicio",text:"Fecha desde"},this.onRepeat()},DisplayAgentsListComponent.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},DisplayAgentsListComponent.prototype.onRepeat=function(){var e=this,t=Object(rxjs__WEBPACK_IMPORTED_MODULE_1__.a)(1e3,5e3),n=Object(rxjs__WEBPACK_IMPORTED_MODULE_1__.a)(1e3,1e3);this.getReportList(this.userSelection),this.subscription.add(t.subscribe((function(){Object(shared_functions__WEBPACK_IMPORTED_MODULE_3__.c)(e.userSelection.start_date)===e.currentDate&&e.getReportList(e.userSelection)}))),n.subscribe((function(){e.timerConnected=e.timerConnected+1}))},DisplayAgentsListComponent.prototype.getReportList=function(e){var t=this;e&&this.displayAgentsIndicatorsService.getReportList(e).subscribe((function(n){t.timerConnected=0,t.historic=t.currentDate!==Object(shared_functions__WEBPACK_IMPORTED_MODULE_3__.c)(e.start_date),n?t.rows=n:console.error("Error",n),t.alertMessage=new shared_models_helpers_Alert__WEBPACK_IMPORTED_MODULE_4__.a}),(function(e){console.error("Error",e),t.show=!1,t.alertService.error(e.status),t.alertMessage.alertTitle="Error del servidor",t.alertMessage.alertText=e.statusText,t.alertMessage.alertShow=!0,t.alertMessage.alertClass="alert alert-danger alert-dismissible fade show"}))},DisplayAgentsListComponent.prototype.openDetailModal=function(e,t){this.activeModal=this.modalService.open(e,{windowClass:"my-class",keyboard:!1})},DisplayAgentsListComponent.prototype.onShowHideGraphButtons=function(){this.graph=!this.graph,this.show_graph_or_table_button=!this.show_graph_or_table_button},DisplayAgentsListComponent.prototype.onActivate=function(e){this.row_selection=e.row},DisplayAgentsListComponent.prototype.onSelect=function(e){this.selected=e.selected},DisplayAgentsListComponent.prototype.onReturnHeaderResult=function(e){this.userSelection=new shared_models__WEBPACK_IMPORTED_MODULE_5__.b("userSelection"),this.getReportList(this.userSelection),this.show_graph_or_table_button=!1},DisplayAgentsListComponent.prototype.onRecalculate=function(e){this.userSelection=new shared_models__WEBPACK_IMPORTED_MODULE_5__.b("userSelection"),this.getReportList(this.userSelection),this.show_graph_or_table_button=!1,console.error("this.rows",this.rows)},DisplayAgentsListComponent.prototype.onReturnNumberOfRowsInTable=function(e){console.error("event",e),this.numberOfRowsInTable=e},DisplayAgentsListComponent.prototype.onReturnRowsForTable=function(e){this.rows=e},DisplayAgentsListComponent.prototype.onObjectToArray=function(e){var t,n=e[0];return void 0!==n&&(t=Object.entries(n).map((function(e){return{key:e[0],value:e[1]}}))),t},DisplayAgentsListComponent.prototype.onCreateModel=function(model){model=(new packages_display_src_shared_models___WEBPACK_IMPORTED_MODULE_7__.a).fieldList(),console.error("model",model);var obj={};model.map((function(e){obj[""+e.name]="x."+e.field_name}));var newModel=JSON.stringify(obj),newModel2=JSON.stringify(newModel.replace(/\"/g,"").replace(/:/g,": ").replace(/,/g,",\n ")),model3=eval(newModel2);console.error("model",model3)},DisplayAgentsListComponent.prototype.openModal=function(e){},DisplayAgentsListComponent}()},"x/ce":function(e,t,n){"use strict";n.r(t);var l=n("kZht"),i=n("An66"),s=n("PJLp"),o=n.n(s);Object(i.registerLocaleData)(o.a,"es");var r=function(){},a=n("ET8j"),_=n("C9Ky"),d=n("iwai"),p=n("5Ofn"),c=n("Uj1/"),u=n("hlL8"),m=n("aymL"),g=n("78Vo"),h=n("w7wT"),b=n("XtjK"),f=n("gv9p"),M=n("cjRQ"),O=n("phxf"),C=l["\u0275crt"]({encapsulation:0,styles:[[".frame[_ngcontent-%COMP%]{border:1px solid #d3d3d3;border-radius:5px;min-height:50vh}.tablegraph[_ngcontent-%COMP%]{margin:0;padding:3px}.tablegraph-subtitles[_ngcontent-%COMP%]{margin:200;padding:3px 0 .5rem;background:#d3d3d3;font-size:1.2rem;font-weight:400;text-align:center}.tablegraph-table[_ngcontent-%COMP%]{display:grid;grid-template-columns:4fr 1fr;margin:0;padding:5px 5px 0}.tablegraph-table[_ngcontent-%COMP%]:hover{color:#242488;border:1px solid #5e5b5b;border-radius:5px;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19)}.tablegraph-table[_ngcontent-%COMP%]:nth-child(even){background:#f2f2f2}.tablegraph-table[_ngcontent-%COMP%]:nth-child(odd){background:#fff}.tablegraph-table[_ngcontent-%COMP%]:first-child{background:#f2f2f2;margin-top:10px}.tablegraph-table[_ngcontent-%COMP%]:last-child{background:#fff;margin-bottom:10px}.tablegraph-text[_ngcontent-%COMP%]{font-size:1rem;padding:5px 20px 0 0;color:#495057}.tablegraph-number[_ngcontent-%COMP%]{text-align:right;font-size:1.4rem;font-weight:400;padding-top:0}.pointer[_ngcontent-%COMP%]{cursor:pointer}@media screen and (max-width:1200px){.tablegraph-table[_ngcontent-%COMP%]{display:grid;grid-template-columns:4fr 1fr;margin:0;padding:5px 5px 0}}@media screen and (max-width:992px){.tablegraph-table[_ngcontent-%COMP%]{display:grid;grid-template-columns:3fr 1fr;margin:0;padding:5px 5px 0}}@media screen and (max-width:768px){.tablegraph-table[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr;margin:0;padding:5px 5px 0}}@media screen and (max-width:576px){.tablegraph-table[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr;margin:0;padding:5px 5px 0}}.table[_ngcontent-%COMP%]{display:flex}.element[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 4fr;grid-gap:1px 5px 1px 1px}.indicadores[_ngcontent-%COMP%]{margin:10px;font-size:1rem;color:gray}.indicadores-cantidad[_ngcontent-%COMP%]{font-size:1.5rem;max-width:40%}.indicadores-descripcion[_ngcontent-%COMP%]{max-width:50%}.indicadores-porcentaje[_ngcontent-%COMP%]{max-width:10%}.indicadores-subtitles[_ngcontent-%COMP%]{margin:200;padding:3px 0 .5rem;background:#d3d3d3;font-size:1rem;font-weight:400;text-align:center}"]],data:{}});function D(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,11,"li",[],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,2,"h1",[],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,0,"i",[["class","fas fa-user"]],null,null,null,null,null)),(e()(),l["\u0275ted"](3,null,[" \xa0",""])),(e()(),l["\u0275eld"](4,0,null,null,7,"div",[["class","element"]],null,null,null,null,null)),(e()(),l["\u0275eld"](5,0,null,null,1,"p",[["class","small"]],null,null,null,null,null)),(e()(),l["\u0275ted"](6,null,[" ","-",""])),(e()(),l["\u0275eld"](7,0,null,null,2,"p",[["class","indicadores-porcentaje"]],null,null,null,null,null)),(e()(),l["\u0275ted"](8,null,[" "," "])),l["\u0275ppd"](9,1),(e()(),l["\u0275eld"](10,0,null,null,1,"p",[["class","indicadores-descripcion text-left"]],null,null,null,null,null)),(e()(),l["\u0275ted"](11,null,[" \xa0"," "]))],null,(function(e,t){var n=t.component;e(t,3,0,t.context.$implicit.agent_name),e(t,6,0,t.context.$implicit.rca_agent_status,t.context.$implicit.rca_group_name);var i=l["\u0275unv"](t,8,0,e(t,9,0,l["\u0275nov"](t.parent,0),t.context.$implicit.value/n.rows.agentsConnectedTotal[0].agentsConnectedTotal));e(t,8,0,i),e(t,11,0,t.context.$implicit.name)}))}function E(e){return l["\u0275vid"](0,[l["\u0275pid"](0,i.PercentPipe,[l.LOCALE_ID]),(e()(),l["\u0275eld"](1,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,1,"app-alert",[],null,null,null,p.b,p.a)),l["\u0275did"](3,114688,null,0,c.a,[],{alertMessage:[0,"alertMessage"]},null),(e()(),l["\u0275eld"](4,0,null,null,1,"app-display-display-header",[],null,[[null,"returnResult"]],(function(e,t,n){var l=!0;return"returnResult"===t&&(l=!1!==e.component.onReturnHeaderResult(n)&&l),l}),u.b,u.a)),l["\u0275did"](5,114688,null,0,m.a,[g.a,h.w,b.a],{userSelection:[0,"userSelection"],selectorVisibleFields:[1,"selectorVisibleFields"],timerConnected:[2,"timerConnected"]},{returnResult:"returnResult"}),(e()(),l["\u0275eld"](6,0,null,null,3,"section",[],null,null,null,null,null)),(e()(),l["\u0275eld"](7,0,null,null,2,"ul",[],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,D)),l["\u0275did"](9,278528,null,0,i.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,3,0,n.alertMessage),e(t,5,0,n.userSelection,n.selectorVisibleFields,n.timerConnected),e(t,9,0,n.rows.agentsConnectedByGroup)}),null)}n("IXvK");var w=n("k5pS"),y=function(){function e(e,t,n){this.alertService=e,this.envService=t,this.userSelectionService=n,this.userSelection=new w.b("standard"),this.selectorVisibleFields=new w.b("visible"),this.title="Display agentes"}return e.prototype.ngOnInit=function(){this.userSelection.title!==this.title&&this.setReportTitles()},e.prototype.setReportTitles=function(){this.userSelection.title=this.title,this.userSelectionService.writeUserSelectionHistoric(this.userSelection),this.selectorVisibleFields.assignation=!1,this.selectorVisibleFields.auxiliar=!1},e}(),P=l["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function x(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"app-display-display-agents-list",[],null,null,null,E,C)),l["\u0275did"](1,245760,null,0,f.a,[M.a,O.a,g.a,h.w,b.a],{userSelection:[0,"userSelection"],selectorVisibleFields:[1,"selectorVisibleFields"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.userSelection,n.selectorVisibleFields)}),null)}var L=l["\u0275ccf"]("app-display-display-agents",y,(function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"app-display-display-agents",[],null,null,null,x,P)),l["\u0275did"](1,114688,null,0,y,[O.a,g.a,b.a],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),v=n("3kIJ"),R=n("NuYi"),A=n("K9jP"),S=n("Uw3X"),T=n("ruJL"),I=n("Z4LD"),k=n("uEFD"),U=n("Xsav"),K=n("1VvW"),B=n("XhJS"),F=n("em0t"),W=n("9o7S"),j=n("HDHg"),N=n("NxuZ"),V=function(){};n.d(t,"DisplayAgentsModuleNgFactory",(function(){return q}));var q=l["\u0275cmf"](r,[],(function(e){return l["\u0275mod"]([l["\u0275mpd"](512,l.ComponentFactoryResolver,l["\u0275CodegenComponentFactoryResolver"],[[8,[a.a,a.b,a.h,a.i,a.e,a.f,a.g,_.a,d.b,d.a,L]],[3,l.ComponentFactoryResolver],l.NgModuleRef]),l["\u0275mpd"](4608,i.NgLocalization,i.NgLocaleLocalization,[l.LOCALE_ID,[2,i["\u0275angular_packages_common_common_a"]]]),l["\u0275mpd"](4608,v.q,v.q,[]),l["\u0275mpd"](4608,v.d,v.d,[]),l["\u0275mpd"](4608,h.w,h.w,[l.ComponentFactoryResolver,l.Injector,h.gb,h.x]),l["\u0275mpd"](4608,R.ScrollbarHelper,R.ScrollbarHelper,[i.DOCUMENT]),l["\u0275mpd"](4608,A.DimensionsHelper,A.DimensionsHelper,[]),l["\u0275mpd"](4608,S.ColumnChangesService,S.ColumnChangesService,[]),l["\u0275mpd"](1073742336,i.CommonModule,i.CommonModule,[]),l["\u0275mpd"](1073742336,T.a,T.a,[]),l["\u0275mpd"](1073742336,v.p,v.p,[]),l["\u0275mpd"](1073742336,v.g,v.g,[]),l["\u0275mpd"](1073742336,v.n,v.n,[]),l["\u0275mpd"](1073742336,h.d,h.d,[]),l["\u0275mpd"](1073742336,h.g,h.g,[]),l["\u0275mpd"](1073742336,h.h,h.h,[]),l["\u0275mpd"](1073742336,h.l,h.l,[]),l["\u0275mpd"](1073742336,h.m,h.m,[]),l["\u0275mpd"](1073742336,h.s,h.s,[]),l["\u0275mpd"](1073742336,h.t,h.t,[]),l["\u0275mpd"](1073742336,h.y,h.y,[]),l["\u0275mpd"](1073742336,h.C,h.C,[]),l["\u0275mpd"](1073742336,h.F,h.F,[]),l["\u0275mpd"](1073742336,h.I,h.I,[]),l["\u0275mpd"](1073742336,h.L,h.L,[]),l["\u0275mpd"](1073742336,h.O,h.O,[]),l["\u0275mpd"](1073742336,h.S,h.S,[]),l["\u0275mpd"](1073742336,h.T,h.T,[]),l["\u0275mpd"](1073742336,h.U,h.U,[]),l["\u0275mpd"](1073742336,h.z,h.z,[]),l["\u0275mpd"](1073742336,I.c,I.c,[]),l["\u0275mpd"](1073742336,k.NgxDatatableModule,k.NgxDatatableModule,[]),l["\u0275mpd"](1073742336,U.b,U.b,[]),l["\u0275mpd"](1073742336,K.o,K.o,[[2,K.t],[2,K.l]]),l["\u0275mpd"](1073742336,B.a,B.a,[]),l["\u0275mpd"](1073742336,F.a,F.a,[]),l["\u0275mpd"](1073742336,W.a,W.a,[]),l["\u0275mpd"](1073742336,j.a,j.a,[]),l["\u0275mpd"](1073742336,N.j,N.j,[]),l["\u0275mpd"](1073742336,V,V,[]),l["\u0275mpd"](1073742336,r,r,[]),l["\u0275mpd"](256,l.LOCALE_ID,"es",[]),l["\u0275mpd"](256,I.d,I.e,[]),l["\u0275mpd"](1024,K.j,(function(){return[[{path:"",component:y,children:[]}]]}),[])])}))}}]);